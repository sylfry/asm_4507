Class Name,Member variables (name : type),Methods (signatures),Notes
Ensemble,"ensembleID : String (private final); eName : String (private); musicians : AbstractList<Musician> (private final)","Ensemble(String eID); String getEnsembleID(); String getName(); void setName(String name); void addMusician(Musician m); void dropMusician(Musician m); Iterator<Musician> getMusicians(); abstract void updateMusicianRole(); abstract void showEnsemble()","Abstract base class; full implementations present in file."
OrchestraEnsemble,"VIOLINIST_ROLE : int (private final); CELLIST_ROLE : int (private final)","OrchestraEnsemble(String eID); void updateMusicianRole(); void showEnsemble()","extends Ensemble; method bodies partially omitted in attachment (implementation omitted comments)."
JazzBandEnsemble,"PIANIST_ROLE : int (private final); SAXOPHONIST_ROLE : int (private final); DRUMMER_ROLE : int (private final)","JazzBandEnsemble(String eID); void updateMusicianRole(); void showEnsemble()","extends Ensemble; method bodies partially omitted in attachment."
OrchestraFactory,"ROLES : int[] (private final); ROLE_NAMES : Map<Integer,String> (private final)","OrchestraFactory(); Ensemble creatEnsemble(String id); Musician createMusician(String id); boolean isValidRole(int role); String getRoleName(int role); String showRoleName(); int[] getAllRoles(); String getEnsembleType(); void showEnsembleInfo(Ensemble ensemble)","Implements EnsembleFactory; implementations present but some inner lines omitted."
JazzBandFactory,"ROLES : int[] (private final); ROLE_NAMES : Map<Integer,String> (private final)","JazzBandFactory(); Ensemble creatEnsemble(String id); Musician createMusician(String id); boolean isValidRole(int role); String getRoleName(int role); String showRoleName(); int[] getAllRoles(); String getEnsembleType(); void showEnsembleInfo(Ensemble ensemble)","Implements EnsembleFactory; content partially omitted."
Command,"(none)","void execute(); void undo(); String description(); default Ensemble getEnsemble()","Interface for commands."
ComSetEnsemble,"foundEnsemble : Ensemble (private); previousEnsemble : Ensemble (private)","ComSetEnsemble(Ensemble previousEnsemble, Ensemble foundEnsemble); void execute(); void undo(); String description(); Ensemble getEnsemble()","Command to change current ensemble; execute/undo print messages."
Manager,"ensembles : List<Ensemble> (private final); currentEnsemble : Ensemble (private); commandFactory : CommandFactory (private final); caretaker : Caretaker (private); factory : EnsembleFactory (private); commandRegistry : CommandRegistry (private); recordableIds : Set<String> (private final)","Manager(); static void main(String[] args); void chooseFunction(); (private) void syncCurrentEnsembleFromHistory(); Command handleCreateEnsemble(Scanner); Command handleAddMusician(Scanner); void handleShowEnsemble(); void handleSetEnsemble(Scanner); Command handleModifyMusician(Scanner); Command handleDeleteMusician(Scanner); Command handleChangeEnsembleName(Scanner)","File summarized in attachment; method bodies omitted in summary."
CommandRegistry,"comID : String (private); comName : String (private); comHandle : Command (private); handlerMap : Map<String,Function<Scanner,Command>> (private final); IDNameMap : Map<String,String> (private final)","CommandRegistry(); void registerHandler(String, Function<Scanner,Command>); Function<Scanner,Command> getHandler(String); void setComID(String); String getComID(); void setComName(String); String getComName(); void setComHandle(Command); Command getComHandle(); String getCommandMenu(); String getCommandIDPrompt()","getCommandMenu / getCommandIDPrompt implementations omitted in summary."
EnsembleFactoryRegistry,"registry : Map<Class<? extends Ensemble>, EnsembleFactory> (private static final); keyRegistry : Map<String, EnsembleFactory> (private static final)","static initializer block; static EnsembleFactory getFactory(Ensemble ensemble); static EnsembleFactory getFactoryByKey(String key); static void registerFactory(String key, EnsembleFactory factory); static Set<String> getAvailableKeys()","Registry of factories; contains pre-registered keys "o" and "j"."
Caretaker,"undoList : Stack<Command> (private final); redoList : Stack<Command> (private final)","Caretaker(); void execute(Command cmd); void undo(); void redo(); Stack<Command> getUndoList(); Stack<Command> getRedoList()","Full implementation present (file `Caretaker.java-1`)."
ComAddMusician,"ensemble : Ensemble (private); musician : Musician (private)","ComAddMusician(Ensemble, Musician); void execute(); void undo(); String description(); Ensemble getEnsemble()","Adds/drops musician; description uses factory to get role name."
CommandImpl,"(none visible)","createAddMusicianCommand(Ensemble, Musician); createDeleteMusicianCommand(Ensemble, Musician); createChangeEnsembleNameCommand(Ensemble,String); createModifyInstrumentCommand(Musician,int); createUndoCommand(Caretaker); createRedoCommand(Caretaker); createDisplayAllEnsemblesCommand(List<Ensemble>); createShowEnsembleCommand(Ensemble); createSetEnsembleCommand(Ensemble,Ensemble); createShowListCommand(Caretaker); createEnsembleCommand(EnsembleFactory,String,String,List<Ensemble>)","Factory implementation mapping to concrete Command classes."
ComModifyInstrument,"musician : Musician (private); newInstrument : int (private); oldInstrument : int (private); memento : InstrumentMemento (private); ensemble : Ensemble (private)","ComModifyInstrument(Musician, int); void execute(); void undo(); Ensemble getEnsemble(); String description()","Uses InstrumentMemento to save/restore instrument."
ComDeleteMusician,"deletedMusician : Musician (private); currentEnsemble : Ensemble (private)","ComDeleteMusician(Ensemble, Musician); void execute(); void undo(); Ensemble getEnsemble(); String description()","execute drops musician; undo re-adds musician."
ComShowEnsemble,"ensemble : Ensemble (private)","ComShowEnsemble(Ensemble); void execute(); void undo(); String description()","Show command; undo is no-op."
ComDisplayAllEnsembles,"ensembles : List<Ensemble> (private)","ComDisplayAllEnsembles(List<Ensemble>); void execute(); void undo(); String description()","Aggregates ensembles by type and prints; undo no-op."
ComChangeEnsembleName,"ensemble : Ensemble (private); newName : String (private); memento : NameMemento (private)","ComChangeEnsembleName(Ensemble, String); void execute(); void undo(); String description(); Ensemble getEnsemble()","Uses NameMemento for undo."
ComUndo,"caretaker : Caretaker (private)","ComUndo(Caretaker); void execute(); void undo(); String description()","Wrapper command calling caretaker.undo(); description reads caretaker redo-list for message."
ComRedo,"caretaker : Caretaker (private)","ComRedo(Caretaker); void execute(); void undo(); String description()","Wrapper command calling caretaker.redo()."
ComShowList,"caretaker : Caretaker (package-private member); undoList : Stack<Command> (private); redoList : Stack<Command> (private)","ComShowList(Caretaker); void execute(); void undo(); String description()","Shows Undo/Redo lists."
CommandFactory,"(none)","createAddMusicianCommand(Ensemble, Musician); createDeleteMusicianCommand(Ensemble, Musician); createChangeEnsembleNameCommand(Ensemble,String); createModifyInstrumentCommand(Musician,int); createUndoCommand(Caretaker); createRedoCommand(Caretaker); createDisplayAllEnsemblesCommand(List<Ensemble>); createShowEnsembleCommand(Ensemble); createSetEnsembleCommand(Ensemble,Ensemble); createShowListCommand(Caretaker); createEnsembleCommand(EnsembleFactory,String,String,List<Ensemble>)","Factory interface for creating commands."
EnsembleFactory,"(none)","Ensemble creatEnsemble(String id); Musician createMusician(String id); boolean isValidRole(int role); String getRoleName(int role); String showRoleName(); int[] getAllRoles(); String getEnsembleType(); void showEnsembleInfo(Ensemble ensemble)","Interface for ensemble factory."
Memento,"(none)","void restore()","Simple memento interface."
InstrumentMemento,"originalInstrument : int (private final); musician : Musician (private)","InstrumentMemento(Musician); void restore()","Implements Memento to restore musician role."
NameMemento,"originalName : String (private final); ensemble : Ensemble (private)","NameMemento(Ensemble); void restore()","Implements Memento to restore ensemble name."
ComCreateEnsemble,"factory : EnsembleFactory (private); ensembles : List<Ensemble> (private); ensembleId : String (private); ensembleName : String (private); createdEnsemble : Ensemble (private)","ComCreateEnsemble(EnsembleFactory,String,String,List<Ensemble>); void execute(); void undo(); Ensemble getCreatedEnsemble(); Ensemble getEnsemble(); String description()","execute creates (or reuses) createdEnsemble and adds to list; undo removes from list."
Musician,"musicianID : String (private final); mName : String (private); role : int (private)","Musician(String); String getMID(); int getRole(); void setRole(int); String getName(); void setName(String)","Plain data class for musician."
